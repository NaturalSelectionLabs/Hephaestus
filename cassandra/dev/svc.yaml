apiVersion: v1
kind: Service
metadata:
  annotations:
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-address-type: "intranet"
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-instance-charge-type: "PayBySpec"
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-spec: "slb.s1.small"
  name: cassandra-slb
  namespace: guardian
spec:
  ports:
    - name: cql
      port: 9042
      protocol: TCP
      targetPort: cql
  selector:
    app.kubernetes.io/instance: cassandra
    app.kubernetes.io/name: cassandra
  type: LoadBalancer
