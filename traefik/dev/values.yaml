service:
  enabled: true
  type: LoadBalancer
  annotations:
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-address-type: internet
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-instance-charge-type: PayBySpec
    service.beta.kubernetes.io/alibaba-cloud-loadbalancer-spec: slb.s1.small
deployment:
  kind: Deployment
  replicas: 3
ports:
  web:
    hostPort: "8000"  # for HTTP
ingressRoute:
  dashboard:
    enabled: true
    matchRule: Host(`traefik.dev.nsl.xyz`)
    entryPoints: ["websecure"]
    middlewares: []
    tls:
      secretName: traefik-cert
logs:
  access:
    enabled: true
    bufferingsize: "100"
    format: "json"
additionalArguments:
  - "--entryPoints.websecure.forwardedHeaders.insecure"
  - "--entryPoints.web.forwardedHeaders.insecure"
  - "--providers.kubernetescrd.allowexternalnameservices=true"
  - "--metrics.prometheus.addEntryPointsLabels=false" # web,metrics,etc
instanceLabelOverride: traefik
